<div class="h1-wrap">
   <div>
     <h1 data-ui-scrollfix="80">
      <span class="t_badge t_badge_icon">
         <span class="icon-box"></span>
      </span>
      <translate>Software</translate>
     </h1>
   </div>   
</div>
<div data-scroll-spy style="margin-left:2rem; margin-right:2rem;" class="container">
   <aside class="t_side_nav" data-ui-scrollfix="60">
      <nav>
         <ul class="t_subnav__items">
            <li data-spy="overview" class="t_subnav__items__item current"><a data-scrollto href="#overview"><translate>Overview</translate></a></li>
            <li data-spy="storage-client" class="t_subnav__items__item"><a data-scrollto href="#storage-client"><translate>Storage Client</translate></a></li>
            <li data-spy="icgc-get" data-ng-if="showIcgcGet" class="t_subnav__items__item"><a data-scrollto href="#icgc-get"><translate>icgc-get</translate></a></li>
            <li data-spy="verifying-downloads" class="t_subnav__items__item"><a data-scrollto href="#verifying-downloads"><translate>Public Key</translate></a></li>
         </ul>
      </nav>
   </aside>
   <article>
      <section id="overview" class="tab-content" style="padding-top:0px;">
         <h2><translate>Overview</translate></h2>
         <p>
           <translate>This is the official DCC software page which publishes various tools for working with ICGC data.</translate>
           <translate>Software is provided in both tarball and Docker image format.</translate></p>
         <p>
           <translate has-markup>
             For feature requests and reporting bugs, please contact <a href="mailto:dcc-support@icgc.org"><i class="icon-mail"></i>dcc-support@icgc.org</a>.
           </translate>
           <translate has-markup>
             To verify the contents of the download, please see <a data-scrollto href="#verifying-downloads" >Verifying Downloads</a>.
           </translate>
         </p>
      </section>
   </article>
   <article>
      <section id="storage-client" class="tab-content" style="padding-top:0px;">
         <h2><translate>Storage Client</translate></h2>
         <div>
            <p>
              <translate has-markup>
                To interact with cloud repositories such as <a href="/icgc-in-the-cloud/aws/">AWS</a> and 
                <a href="/icgc-in-the-cloud/collaboratory/">Collaboratory</a>, you will require the Storage Client sofware. For system requirements and usage information, 
                please see the <a href="http://docs.icgc.org/cloud/guide/"><i class="icon-external-link"></i>User Guide</a>.
              </translate>
            </p>

            <h3><translate>Latest Release Tarball</translate></h3>
            <p><translate>Users are encouraged to use the latest version of our software to keep current with bug fixes, enhancements and new features. Click on the following to download the latest client package:</translate></p>
            <p>
               <a id="latest-storage-version" class="t_button" target="_blank" href="api/v1/ui/software/icgc-storage-client/latest"><translate>Download</translate></a>
            </p>
            <h3><translate>Previous Release Tarballs</translate></h3>
            <p><translate>It is strongly recommended to use the latest release to take advantage of newest features and bug fixes.</translate></p>

            <p><translate>However, if you wish to use an old version you may choose from the following:</translate></p>
            <table class="table table-striped">
               <thead>
                  <tr>
                     <th><translate>Version</translate></th>
                     <th><translate>Dist</translate></th>
                     <th><translate>MD5</translate></th>
                     <th><translate>Signature</translate></th>
                  </tr>
               </thead>
               <tbody id="storage-versions">
                  <tr data-ng-repeat="v in versions">
                     <td>{{ v.version }}</td>
                     <td><a target="_blank" href="api/v1/ui/software/{{ icgcStorageClient.artifactId }}/{{ v.version }}">{{ icgcStorageClient.artifactId }}-{{ v.version }}-dist.tar.gz</a></td>
                     <td><a target="_blank" href="api/v1/ui/software/{{ icgcStorageClient.artifactId }}/{{ v.version }}/md5">{{ icgcStorageClient.artifactId }}-{{ v.version }}-dist.tar.gz.md5</a></td>
                     <td><a target="_blank" href="api/v1/ui/software/{{ icgcStorageClient.artifactId }}/{{ v.version }}/asc">{{ icgcStorageClient.artifactId }}-{{ v.version }}-dist.tar.gz.asc</a></td>
                  </tr>
               </tbody>
            </table>
            <h3><translate>Docker Images</translate></h3>
            <p>
              <translate has-markup>
                For Docker images, please visit our 
                <a href="https://hub.docker.com/r/icgc/icgc-storage-client/" target="_blank" ><i class="icon-external-link"></i>Docker Hub repository</a>.
              </translate>
            </p>
         </div>
      </section>
   </article>
 <article data-ng-if="showIcgcGet">
      <section id="icgc-get" class="tab-content" style="padding-top:0px;">
         <h2><translate>icgc-get</translate></h2>
         <div>
            <p>
              <translate>
                To interact with all ICGC data repositories, you can use the icgc-get software.
              </translate>
              <translate has-markup>
                For system requirements and usage information, please see the
                <a href="http://docs.icgc.org/cloud/icgc-get/" ><i class="icon-external-link"></i>User Guide</a>.
              </translate>
            </p>

            <h3><translate>Latest Release Zipfile</translate></h3>
            <p><translate>Users are encouraged to use the latest version of our software to keep current with bug fixes, enhancements and new features. Click on the following to download the latest client version:</translate></p>
            <p>
               <a id="latest-storage-version" class="t_button" target="_blank" href="api/v1/ui/software/icgc-get/osx/latest"><translate>Download for Mac</translate></a>
               <a id="latest-get-version" class="t_button" target="_blank" href="api/v1/ui/software/icgc-get/linux/latest"><translate>Download for Linux</translate></a>
            </p>
            <h3><translate>Previous Release Zipfiles</translate></h3>
            <p><translate>It is strongly recommended to use the latest release to take advantage of newest features and bug fixes.</translate></p>

            <p><translate>However, if you wish to use an old version you may choose from the following:</translate></p>
            <table class="table table-striped">
               <thead>
                  <tr>
                     <th><translate>Version</translate></th>
                     <th><translate>Mac</translate></th>
                     <th><translate>Linux</translate></th>
                  </tr>
               </thead>
               <tbody id="get-versions">
                  <tr data-ng-repeat="v in icgcGetVersions">
                     <td>{{ v.version }}</td>
                     <td><a target="_blank" href="api/v1/ui/software/{{ icgcGet.artifactId }}/{{ v.version}}/osx">{{ icgcGet.artifactId }}-{{ v.version }}-osx-dist.zip</a></td>
                     <td><a target="_blank" href="api/v1/ui/software/{{ icgcGet.artifactId }}/{{ v.version}}/linux">{{ icgcGet.artifactId }}-{{ v.version }}-linux-dist.zip</a></td>
                  </tr>
               </tbody>
            </table>
            <h3><translate>Docker Images</translate></h3>
            <p>
              <translate has-markup>
                For Docker images, please visit our <a href="https://hub.docker.com/r/icgc/icgc-get/" target="_blank" ><i class="icon-external-link"></i>Docker Hub repository</a>.
              </translate>
              <translate>
                This provides the necessary operating environment for ICGC get, and will be automatically downloaded by the tool if the docker daemon is running on your computer.
              </translate></p>
         </div>
      </section>
   </article>
   <article>
      <section id="verifying-downloads" class="tab-content" style="padding-top:0px;">
         <h2><translate>Verifying Downloads</translate></h2>
         <p><translate>In order to ensure safe downloads and binary integrity, all software releases are signed using GPG. The following sections detail how to verify our published software.</translate></p>
         <h3><translate>Public Key</translate></h3>
         <div>
            <p><translate>To verify the signatures you will need our public key used for software releases:</translate></p>
            <p>
               <a class="t_button" style="color:white" target="_blank" href="api/v1/ui/software/key"><translate>Public Key</translate></a>
            </p>
         </div>
         <h3><translate>GPG Verification</translate></h3>
         <div>
            <p><translate>To verify the signed software you will need to ensure you have downloaded our public key and imported it:</translate></p>
            <p><translate>From a key server:</translate><pre>$ gpg --keyserver pgp.mit.edu --recv-key 0xAFE5D0B6</pre></p>
            <p><translate>From a file:</translate><pre>$ gpg --import icgc-software.pub</pre></p>
            <p><translate>Once the public key has been imported you can verify the signature:</translate></p>
            <p><pre>$ gpg icgc-storage-client-0.0.27-dist.tar.gz.asc</pre></p>
            <p><translate>If successful, the output should contain the following:</translate></p>
            <p>
<pre>
gpg: assuming signed data in 'icgc-storage-client-0.0.27-dist.tar.gz'
gpg: Signature made Mon  5 Oct 12:38:09 2015 EDT using RSA key ID AFE5D0B6
gpg: Good signature from "ICGC DCC (Sign public software releases) &lt;dcc-support@icgc.org&gt;"
</pre>
            </p>
         </div>
      </section>
   </article>
</div>
