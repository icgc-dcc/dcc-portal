<section>
<div data-ng-if="!analysisId" data-ng-controller="NewAnalysisController as NAC" class="analysis">
    <div class="row">
        <div class="analysis-tools-wrapper col-sm-5">
            <div class="analysis-tiles">
                <div
                    class="analysis-tile-container"
                    ng-class="{
                        selected: analysis === NAC.selectedAnalysis 
                    }"
                    ng-repeat="(analysisType, analysis) in NAC.analysesMeta"
                    ng-click="NAC.handleClickAnalysis(analysis)"
                >
                    <h2 class="analysis-title">
                        {{analysis.strings.name}}
                    </h2>

                    <div class="reveal-window">
                        <div class="reveal-container">
                            <div class="reveal-item">
                                <img
                                    class="analysis-illustration"
                                    ng-src="/styles/images/analysis-{{analysisType}}.svg"
                                />
                            </div>
                            <div class="reveal-item">
                                <div class="analysis-tile-detail">{{analysis.strings.description}}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="analysis-suggestions">
                <a class="cta" href="mailto:dcc-support@icgc.org?Subject=Data%20Portal%20Feedback">
                    <h3 class="cta-title">More?</h3>
                    <div class="cta-detail">
                        <translate>Do you have a specific type of analysis you want to see?</translate>
                        <br/>
                        <translate>Leave feedback and let us know.</translate>
                    </div>
                </a>
            </div>
        </div>

        <div class="set-selection-wrapper col-sm-7">
            <div
                style="font-size: 22px; color: #333; font-size: 500;"
                data-ng-show="!NAC.selectedAnalysis"
            >
                <translate>Saved Sets</translate>
            </div>
            <div style="font-size:1.25rem" data-ng-show="NAC.selectedAnalysis">
                <small style="display: block; margin-bottom: -0.2em; color: #666;">
                    <translate>Select {{NAC.selectedAnalysis.type === 'enrichment' ? 'set' : 'sets'}} for
                </small> 
                <div>
                    <strong style="font-size: 22px; color: #333;">{{NAC.selectedAnalysis.strings.name}}</strong></translate>
                    <small>
                        <a
                            class="demo"
                            ng-click="NAC.selectedAnalysis.launchDemo()"
                            tooltip="{{analysis.strings.demoDescription}}"
                            href="#"
                        > (demo) </a>
                    </small>
                </div>
            </div>

            <div ng-show="!NAC.selectedAnalysis" style="color: #999;">
                <translate has-markup>You can create and save new <strong>donor</strong>, <strong>gene</strong>, or <strong>mutation</strong> sets of interest from
                <span class="action-toolbar"><span class="action-item"><i class="icon-search"></i><a href="/search">Advanced Search.</a></span></span></translate>
                <br>

                <translate has-markup>
                    You can also
                    <span class="action-toolbar">
                        <span class="action-item">
                            <i class="icon-floppy"></i>
                            <a href="" data-ng-click="NAC.addCustomGeneSet()">Upload</a> your own gene set.
                        </span>
                    </span>
                </translate>
            </div>
            <set-selection
                sets="NAC.allSets"
                description="NAC.selectedAnalysis.strings.description"
                selection-instructions="NAC.selectedAnalysis.strings.datasetSelectionInstructions"
                is-launching-analysis="NAC.isLaunchingAnalysis()"
                set-compatibility-criteria="NAC.selectedAnalysis.setCompatibilityCriteria"
                analysis-satisfaction-criteria="NAC.selectedAnalysis.analysisSatisfactionCriteria"
                on-click-launch="NAC.selectedAnalysis.launch"
                on-click-launch-demo="NAC.selectedAnalysis.launchDemo"
                on-selected-sets-change="NAC.handleSelectedSetsChange"
            ></set-selection>
        </div>
    </div>
</div>
</section>